micro_bit_Tinker_Kit_Case_21_Flappy_Bird.md

![](https://i.imgur.com/EWlMcgc.jpg)


마이크로비트와 파이썬을 사용하여 악명 높은 버전의 플래피 버드 게임으로 비행기를 타고 파이프의 꿈을 이루세요.

Raffles Institution의 Cheryl이 제작했습니다.

![](https://i.imgur.com/H6Kz8Ky.gif)


## 목표
---

우리는 5x5 LED를 통해 게임을 만들 것 입니다. 이 과정에서 배울 내용은 다음과 같습니다.
첫번째 단계는 마이크로비트 라이브러리를 파이썬으로 가져오는 것입니다.
그 다음 화면에서 '준비 완료' 메시지가 나오고 카운트 다운이 시작됩니다.
- 1행: 마이크로비트 프로그램을 가져옵니다.
- 4행: '준비 완료' 메시지가 나옵니다. 큰 따옴표는 문자열을 나타냅니다.
- 5-10행: sleep () 함수를 사용하여 화면의 각 숫자를 1 초 (또는 측정에 관련된 1000 밀리 초) 동안 깜박입니다.
- 11행: 새와 벽을 그리는 화면을 지웁니다.

**참고:**
다른 사람들을 위해 자신의 코드를 설명하기 위해 코멘트를 추가하는 것이 좋습니다. '#'으로 설명을 추가합니다.


## 준비물 
---

- 1 x [BBC 마이크로비트 보드](http://www.icbanq.com/shop/templete_list.asp?t_idx=163)
- 1 x 마이크로 USB 케이블  


## 왜 파이썬인가?  
---

- 영어 처럼 읽기 - 파이썬은 읽기 쉬운 언어 중 하나입니다. 환상적인 초보자 용 언어입니다.
- 다용도 - Python은 정당한 이유로 업계 표준입니다. 많은 것을 할 수 있습니다. 이것이 Google과 YouTube가 백엔드 소프트웨어의 일부로이 언어를 사용하는 이유입니다.
- 활동적인 커뮤니티 - 파이썬은 초보자에게 가장 인기있는 언어 중 하나입니다. 수많은 리소스가 있으며 코드를 살펴 보는 데 도움이되는 정보가 많습니다. 코드 작성 과정에서 걸림돌이되는 것을 극복하는 데 도움이된다는 것을 알 수 있습니다.



## 파이썬에서 코딩을 시작하려면 어떻게해야합니까?  
---  

[공식 마이크로비트 파이썬 에디터](http://www.python.microbit.org/)로 이동을 하거나 [오프라인 파이썬 편집기](https://codewith.mu/)를 다운로드하여 코드를 작성한 후 마이크로비트로 보내기만 하면 됩니다. 매번 업로드하는 귀찮은 과정을 줄이기 위해 [마이크로비트 시뮬레이터](https://create.withcode.uk/)를 사용할 수도 있습니다.

설정이 완료되면 마이크로 USB 케이블을 사용하여 마이크로비트를 컴퓨터에 연결합니다. 

모든 프로그래밍 문제를 해결하는 방법은 그것을 달성 할 수 있는 바이트 크기로 나누는 것입니다. 우리가 무엇을 필요로하는지 보도록하겠습니다. 게임의 데모를 보려면 비디오를 참조하십시오.
화면이 시작되면 'READY'메시지와 카운트 다운이 표시됩니다.

새를 나타내는 좌표를 작성한다.
버튼 A를 눌러 새를 움직인다.
새가 통과하는 파이프의 수를 추적해라.
새가 지나갈 수 있는 벽을 작성한다.
새가 벽과 충돌하면 게임은 끝난다.
이 단계를 직접 수행해보세요. 필요한 경우 단계를 더 작은 단계로 세분화합니다.

## 만든는 방법 
--- 

### Step 1 – Hello, World!  

![](http://www.elecfreaks.com/estore/download/flappy-bird-2.gif)
![](http://www.elecfreaks.com/estore/download/flappy-bird-3.png)

첫번째 단계는 마이크로비트 라이브러리를 파이썬으로 가져오는 것입니다.
그 다음 화면에서 '준비 완료' 메시지가 나오고 카운트 다운이 시작됩니다.
- 1행: 마이크로비트 프로그램을 가져옵니다.
- 4행: '준비 완료' 메시지가 나옵니다. 큰 따옴표는 문자열을 나타냅니다.
- 5-10행: sleep () 함수를 사용하여 화면의 각 숫자를 1 초 (또는 측정에 관련된 1000 밀리 초) 동안 깜박입니다.
- 11행: 새와 벽을 그리는 화면을 지웁니다.

참고: 다른 사람들을 위해 자신의 코드를 설명하기 위해 코멘트를 추가하는 것이 좋습니다. '#'으로 설명을 추가합니다.
파이썬에서는 4행 텍스트의 스크롤 속도를 줄일 수 있습니다.


### Step 2 – Fly, Birdie!  

![](http://www.elecfreaks.com/estore/download/flappy-bird-4.png)
우리는 새의 이미지를 만들어야 합니다. 5X5의 LED를 사용하지만 조금 더 현실적인 움직임을 위해 100개의 위치로 나눌 것입니다. 
이 경우 화면 상단의 위치는 Y0=0이고 버튼은 y=99이므로 100개의 위치가 있습니다. 시작 위치는 y=50입니다.
13행: y=0이 상단이고 y=99가 하단에 있기 때문에 중간에 새의 시작 위치를 설정합니다.
17행: 변수 y에 저장된 값을 20으로 나누어 새 크기를 화면으로 축소합니다.
18행: x, y및 밝기의 3가지 매개 변수를 가진 display.set_pixel함수를 사용하여 화면에 새가 표시됩니다. 
x좌표는 1이므로 두번째 열에 표시됩니다. 
우리는 50을 20으로 나눠서 반올림했기 때문에 현재 y 좌표는 2입니다. 
(참고:인덱스는 일반적으로 컴퓨터 프로그래밍의 경우 0에서 시작되므로 위에서 아래로 행이 0-4이고 왼쪽에서 오른쪽으로 행이 0-4입니다.)
밝기는 0에서 9 사이의 정수가 될 수 있으며 9가 가장 밝습니다. 이 경우 눈이 피로해지기 때문에 7로 설정합니다. 
파이썬은 들여 쓰기를 사용하여 코드를 구분합니다


### Step 3 – Leaving The Nest  

![](http://www.elecfreaks.com/estore/download/flappy-bird-5.png)
새의 형상을 만들었지만 아직은 움직일 수 없습니다.
먼저, y 좌표 바로 아래에 새로운 변수 '속도'를 추가해 보겠습니다.
display.clear ()를 while 루프로 이동하여 환영 메시지를 지우지 않고 새 위치가 매번 설정되기 전에 실행되는 새의 이전 위치를 지웁니다.
25-29행: '중력'을 기준으로 테두리 안에 새로운 y 좌표를 설정합니다 (최대 y = 99, 최소 y = 0).

while 루프에서 모든 것을 배치해야하는 이유는 무엇인가요? 
일정 밀리초마다 정확하게 새의 위치를 업데이트하여 블록이 반복될 수 있게 하려는 것 입니다.


### Step 4 – Defying Gravity

![](http://www.elecfreaks.com/estore/download/flappy-bird-6.png)

이제 우리는 A버튼을 눌러 새가 움직일 수 있게 해야합니다. 이 단계에서는 새가 지나간 벽의 수를 추적하는 새로운 '점수' 변수도 포함시킵니다. 버튼 B를 사용하여 언제든지 액세스 할 수 있습니다.
A의 키 누르기에 반응하려면 21행처럼 "button_a.was_pressed()"를 "fan_loop"아래에서 실행하세요. 반복하는 동안, A버튼을 누르면 새가 다시 올라오게 되고 하강 속도가 다시 빨라지게 됩니다. 
변수 '점수=0'을 추가하여 속도 및 y변수 아래에 새 변수 점수를 0으로 설정합니다. 코딩 습관으로 모든 변수를 한 곳에 설정하여 쉽게 따라 할 수 있도록 하는 것이 좋습니다.
버튼 A와 유사한 루프를 생성하여 버튼 B를 눌렀을 때 점수를 표시합니다. 표시(점수)는 원하는 시점에 점수를 표시합니다.

 
### Step 5 – Pipe Blaster  

![](http://www.elecfreaks.com/estore/download/flappy-bird-7.png)

make_pipe함수를 사용하여 첫번째 파이프를 만들 예정입니다! 그런 다음 변수 i에 할당하고 파이프를 표시합니다.
함수를 호출하면 코드 내의 전체 블록을 실행할 수 있습니다. 이를 통해 각 단계에서 하는 일을 더 쉽게 이해할 수 있습니다.
새 파이프를 만들기 위해 코드를 실행하는 함수 make_pipe()의 이름을 지정합니다. make_pipe()함수의 각 단계에서 수행되는 작업을 설명합니다.
19행에서는 defmake_pipe()를 사용하여 함수를 정의합니다.
20행에서는 각 좌표에 대해 밝기를 나타내는 '0'과 1행, 1열, 1열, 2열 등의 사용자 정의 이미지가 그려집니다. 
이렇게 하면 밝기가 4인 마지막 열의 LED가 켜집니다.
21 행에서 임의의 라이브러리를 사용하여 0과 3 사이의 난수를 호출합니다. 두 개의 홀을 폭발시키기 때문에 4를 사용하지 않습니다. 
즉 gap+1을 날렸기 때문이다. 만약 4가 선택된다면, 4열 5행에 구멍이 생길 것입니다. 그러나 5행이 없으므로 오류가 반환됩니다.
함수에 변수 i를 27행에 따라 할당해 봅시다. 이제 그 사이에 디스플레이를 추가하면 디스플레이에 파이프i가 표시됩니다.


### Step 6 – Frame Rate  

![](http://www.elecfreaks.com/estore/download/flappy-bird-8.png)

이 단계에서는 게임 상수를 설정합니다. 여기서 프레임 변수는 0에서 시작한 다음 20ms마다 1씩 증가하므로 프레임 변수가 20배 증가하는 데 400ms가 걸립니다.
15행은 프레임이 1씩 증가하는 데 걸리는 시간(ms)을 나타내며, 이 시간은 37행(프레임+=1)의 일부로 추가됩니다. 
16행은 벽이 1 열 이동하는 데 걸리는 시간을 설정합니다. 현재 0.4 초 또는 20 프레임입니다.
17행은 다른 벽이 나타나는 시간을 설정합니다. 현재 2.0초 또는 100 프레임입니다.
18행은 스코어가 증가하는 시간을 설정합니다. 이 값은 항상 FRAMES_PER_NEW_WALL 값과 동일해야합니다. 게임을 더 어렵게 만들려면이 게임 상수를 조정하여 새 벽 사이의 거리를 줄이면 됩니다. (FRAMES_PER_SCORE를 해당 벽에 맞게 변경)


### Step 7 – Pipe Dreams  

![](http://www.elecfreaks.com/estore/download/flappy-bird-9.png)

여기서는 프레임 값을 게임 상수와 비교하여 벽을 왼쪽으로 이동하고 새 벽을 작성한 다음 점수를 높이겠습니다. 이것은 while 루프 안에 모두 있으므로 20ms마다 점검됩니다. 이 단계에서는 모듈로 기호 (%)를 사용합니다. 이것은 숫자가 다른 숫자로 나뉠 때 나머지를 제공합니다. 따라서 4 % 2는 0을 반환하지만 4 % 3은 3을 반환합니다. 여기서는 프레임 변수가 게임 상수 중 하나와 같은지 확인하는 데 사용합니다.
FRAMES_PER_WALL_SHIFT값 20으로 구분할 수 있으므로 프레임이 20,40,60일 때 벽이 바뀝니다. 벽을 더 빨리 움직이고 난이도를 높이기 위해 이 옵션을 변경할 수 있습니다. 
새로운 벽을 만드는 것: 69-71행을 참고. 100 프레임마다 또는 2 초마다 i에 대해 make_pipe () 함수를 호출하여 새 파이프를 만듭니다. 벽을 만들고 이동하는 데 사용되는 상수입니다.


### Step 8 – Collision Course  

![](http://www.elecfreaks.com/estore/download/flappy-bird-10.png)

이제 충돌 반응을 추가하기 만하면됩니다. 이 위치에서 LED 밝기 값을 반환하는 get_pixel 함수를 사용합니다. '! ='이면 NOT 함수도 사용됩니다. 아래에서 어떻게 사용되는지 설명하겠습니다.
이 충돌 체크 코드를 bird-drawing과 wall-shifting 사이의 while 루프에 추가해주세요.
i.set_pixel(1, led_y)!=0은 1열(새가 있는 곳)의 위치에 파이프가 있는지 확인합니다. 
새의 좌표와 동일한 위치에 파이프 픽셀이 있는 경우, i.get_pixel(1, led_y)은 벽의 밝기인 4를 반환합니다. 이 값은 0이 아니므로 아래의 기능, 충돌 검사기가 실행됩니다.
67-68행은 0.5 초 동안 내장 된 슬픈 얼굴 이미지를 표시합니다. 이 시간이 오래 유지되도록 변경할 수 있으며 원하는 다른 이미지를 변경할 수 있습니다. 파이썬에는 사용자가 입력 할 수있는 많은 이미지가 있습니다. [목록](http://microbit-micropython.readthedocs.io/en/latest/tutorials/images.html)에서 찾을 수 있습니다.
69행은 점수를 문자열로 표시하고 "점수"뒤에 표시합니다.
70 번째 줄은 while 루프를 종료하므로 게임이 종료됩니다.


### Start Game!  

게임을 실행하고 종료할 수 있고 마지막에 점수가 표시됩니다. 
게임 루프를 추가하여 장치를 다시 설정하지 않고 다시 재생할 수 있습니다. 버튼을 누르면 변경할 수 있는 Play_again기능을 True에서 특정 변수로 변경하는 것이 좋습니다. 

